<?xml version="1.0" encoding="UTF-8"?>

<!-- Copyright IBM Corp. 2001, 2011  All Rights Reserved.              -->

<config id="profiles"
	xmlns="http://www.ibm.com/profiles-config"
	xmlns:tns="http://www.ibm.com/profiles-config"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.ibm.com/profiles-config profiles-config.xsd">


	<!-- START PROFILES DATA MODELS SECTION -->
	<profileDataModels>	
	<profileExtensionAttributes>
		<simpleAttribute extensionId="spoken_Lang" length="64"/>
		<simpleAttribute extensionId="office_hours" length="64"/>
		<simpleAttribute extensionId="hobbies" length="64"/>
			<!-- 
				This extension attribute is required by the 'MyLinks' profile widget
			-->
			<xmlFileAttribute 
				extensionId="profileLinks" 
				schemaFile="profile-links.xsd" 
				indexBindingExpr="/linkroll/link/@name | /linkroll/link/@url">
				<indexFields>
				    <indexField fieldName="linkName" fieldExpr="/linkroll/link/@name" />
				</indexFields>
			</xmlFileAttribute>
		</profileExtensionAttributes>
	
		<profileDataModel>
			<!-- =================================================================================== -->
			<!-- This section is used to define attributes that are updated via the drafting process -->
			<!--   In most deployments you should never edit the config for this section.			 -->
			<!-- Example: <draftableAttribute>displayName</draftableAttribute>                  	 -->
			<!-- Example: Example: <draftableExtensionAttribute extensionIdRef="tieline"/>			 -->
			<!-- =================================================================================== -->
		</profileDataModel>	
	</profileDataModels>
	<!-- END PROFILES DATA MODELS SECTION -->


	<!-- START LAYOUT CONFIGURATION SECTION-->
	<layoutConfiguration>
 
 		<!-- 
 			UI configuration for vcard export feature.
 			
 			The first charset defined is the default.
 		 -->
 		<vcardExport>
			<charset name="UTF-8">
				<label labelKey="label.vcard.encoding.utf8"/>
			</charset>
			<charset name="ISO-8859-1">
				<label labelKey="label.vcard.encoding.iso88591"/>
			</charset>
			<charset name="Cp943c">
				<label labelKey="label.vcard.encoding.cp943c"/>
			</charset>
		</vcardExport>
 
		<searchLayout>
		    	<attribute showLabel="true">displayName</attribute>
		    	<attribute showLabel="false">preferredFirstName</attribute>
		    	<attribute showLabel="false">preferredLastName</attribute>
		    	<attribute showLabel="true">profileTags</attribute>
		    	<attribute showLabel="true">jobResp</attribute>
		    	<attribute showLabel="false">experience</attribute>
		    	<attribute showLabel="false">background</attribute>
		    	<attribute showLabel="true">organizationTitle</attribute>
		      	<attribute showLabel="false">workLocation.city</attribute>
		    	<attribute showLabel="false">workLocation.state</attribute>
		    	<attribute showLabel="false">countryDisplayValue</attribute>
		    	<attribute showLabel="false">email</attribute>
		    	<attribute showLabel="false">telephoneNumber</attribute>
                     <extensionAttribute showLabel="true" extensionIdRef="spoken_Lang"/>
		</searchLayout>
 
		<searchResultsLayout profileType="default">
			<column>
				<attribute hideIfEmpty="true" photo="true" uid="key" showLabel="false">profilePicture</attribute>
			</column>
			<column>
				<attribute showLabel="false" hideIfEmpty="true" hcard="true" uid="key" userid="userid">displayName</attribute>
				<attribute showLabel="false" prependHtml="" appendHtml="" hideIfEmpty="true">jobResp</attribute>
				<attribute showLabel="false" prependHtml="" appendHtml="" hideIfEmpty="true">organizationTitle</attribute>
				<attribute showLabel="false" prependHtml="" appendHtml="" hideIfEmpty="true">workLocation.city</attribute>
				<attribute showLabel="false" prependHtml="" appendHtml="" hideIfEmpty="true">workLocation.state</attribute>
				<attribute showLabel="false" prependHtml="" appendHtml="" hideIfEmpty="true">countryDisplayValue</attribute>
			</column>
			
			<column>
				<attribute showLabel="true" prependHtml="&lt;strong&gt;" appendHtml="&lt;/strong&gt;" hideIfEmpty="true">telephoneNumber</attribute>
				<attribute showLabel="true" prependHtml="&lt;strong&gt;" appendHtml="&lt;/strong&gt;" hideIfEmpty="true" email="true">email</attribute>
				<attribute showLabel="true" prependHtml="&lt;strong&gt;" appendHtml="&lt;/strong&gt;" hideIfEmpty="true" email="true">groupwareEmail</attribute>
                            <extensionAttribute showLabel="true" prependHtml="&lt;strong&gt;" appendHtml="&lt;/strong&gt;" hideIfEmpty="true" extensionIdRef="spoken_Lang" />
			</column>			
		</searchResultsLayout>
		
		<businessCardLayout profileType="default">
			<attributes>
				<attribute showLabel="false" prependHtml="&lt;h2&gt;&lt;span id='%displayNameId%' class='fn'&gt;" appendHtml="&lt;/span&gt;&lt;/h2&gt;">displayName</attribute>
				<attribute showLabel="false" prependHtml="&lt;p class='title'&gt;" appendHtml="&lt;/p&gt;">jobResp</attribute>
				<attribute showLabel="false" prependHtml="&lt;p class='role'&gt;" appendHtml="&lt;/p&gt;">title</attribute>
				<html prependHtml="&lt;div class='adr'&gt;"/>
					<attribute showLabel="false" hideIfEmpty="true" prependHtml="&lt;span class='locality'&gt;" appendHtml="&lt;/span&gt;">workLocation.city</attribute>
					<attribute showLabel="false" hideIfEmpty="true" prependHtml=",&amp;nbsp;&lt;span class='region'&gt;" appendHtml="&lt;/span&gt;">workLocation.state</attribute>
					<attribute showLabel="false" hideIfEmpty="true" prependHtml="&amp;nbsp;&lt;span class='country-name'&gt;" appendHtml="&lt;/span&gt;">countryDisplayValue</attribute>
					<html prependHtml="&lt;p class='extended-address'&gt;"/>
						<attribute showLabel="true" hideIfEmpty="true" appendHtml="&amp;nbsp;|&amp;nbsp;" labelKey="label.contactInformation.bldgId">bldgId</attribute>
						<attribute showLabel="true" hideIfEmpty="true" appendHtml="&amp;nbsp;|&amp;nbsp;" labelKey="label.contactInformation.floor">floor</attribute>
						<attribute showLabel="true" hideIfEmpty="true" labelKey="label.contactInformation.officeName">officeName</attribute>
					<html prependHtml="&lt;/p&gt;"/>
				<html prependHtml="&lt;/div&gt;"/>
				<attribute showLabel="false" hideIfEmpty="true" prependHtml="&lt;p class='tel'&gt;" appendHtml="&lt;/p&gt;">telephoneNumber</attribute>
				<attribute showLabel="false" hideIfEmpty="true" prependHtml="&lt;p&gt;" appendHtml="&lt;/p&gt;" email="true">email</attribute>
			</attributes>
			<actions>
				<action urlPattern="mailto:{email}" emailEnabledRequired="true" liClass="lotusSendMail">
					<label labelKey="personCardSendMail"/>
					<icon href="{profilesSvcRef}/nav/common/styles/images/iconSendMail.gif">
						<alt labelKey="personCardSendMail"/>
					</icon>
				</action>
				<action urlPattern="javascript:lconn.profiles.bizCard.bizCardUI.openNetworkInviteDialog('{key}', window.X_loggedInUserKey, ((window.dojo &amp;&amp; typeof(dojo.getObject) == 'function' &amp;&amp; dojo.getObject('lconn.profiles.Friending.currentViewDomNode')) || (document.getElementById('lotusSearchResultsContent') || new Object()).id || (document.getElementById('contentArea') || new Object()).id || (document.getElementById('lotusMain') || new Object()).id || null))" liClass="lotusMenuSeparator"
					    requireAcl="profile.colleague$profile.colleague.connect">
					<label labelKey="personCardAddAsColleagues"/>
				</action>
				<action urlPattern="javascript:lconn.profiles.bizCard.bizCardUI.openVCardDialog('{key}','{lastMod}')" liClass="lotusMenuSeparator">
					<label labelKey="personCardDownloadVCard"/>
				</action>
			</actions>
		</businessCardLayout>
		
		<profileLayout profileType="default">
			<jobInformation>
				<editableAttribute showLabel="false" hideIfEmpty="true" prependHtml="&lt;strong&gt;" appendHtml="&lt;/strong&gt;&lt;br/&gt;">jobResp</editableAttribute>
				<attribute showLabel="false" hideIfEmpty="true" appendHtml="&lt;br/&gt;">employeeTypeDesc</attribute>
				<attribute showLabel="false" hideIfEmpty="true" appendHtml="&lt;br/&gt;">organizationTitle</attribute>			
				
				<!-- <editableAttribute showLabel="true">secretaryUid</editableAttribute> -->
				<!-- <editableAttribute showLabel="true">secretaryEmail</editableAttribute> -->
				<!-- <editableAttribute showLabel="false">isManager</editableAttribute> -->
				<!-- <editableAttribute showLabel="false">employeeNumber</editableAttribute> -->
				<!-- <editableAttribute showLabel="false">managerUid</editableAttribute> -->
				<!-- <editableAttribute showLabel="false">shift</editableAttribute> -->
				<!-- <editableAttribute showLabel="false">deptNumber</editableAttribute> -->
				<!--  <attribute showLabel="false">workLocation.address1</attribute>-->
				<!-- <attribute showLabel="false">workLocation.address2</attribute> -->
				<attribute showLabel="false" hideIfEmpty="true" appendHtml=", ">workLocation.city</attribute>
				<attribute showLabel="false" hideIfEmpty="true" appendHtml=", ">workLocation.state</attribute>
				<!-- <attribute showLabel="false" hideIfEmpty="true">workLocation.postalCode</attribute> -->
				<attribute showLabel="false" hideIfEmpty="true" appendHtml="&lt;br/&gt;">countryDisplayValue</attribute>
				<!-- <attribute showLabel="false" hideIfEmpty="true" appendHtml="&lt;br/&gt;">countryCode</attribute> -->
				<!-- <attribute showLabel="true" hideIfEmpty="true" appendHtml="|">bldgId</attribute> -->
				<!-- <attribute showLabel="true" hideIfEmpty="true" appendHtml="|">floor</attribute> -->
				<!-- <attribute showLabel="true" hideIfEmpty="true" appendHtml="&lt;br/&gt;">officeName</attribute> -->
				<attribute showLabel="false" hideIfEmpty="true" appendHtml="&lt;br/&gt;">telephoneNumber</attribute>
			    <attribute showLabel="false" hideIfEmpty="true" email="true" appendHtml="&lt;br/&gt;">email</attribute> 
				<editableAttribute showLabel="true" hideIfEmpty="true" hcard="true" email="secretaryEmail" uid="secretaryUid" userid="secretaryUserid" appendHtml="&lt;br/&gt;">secretaryName</editableAttribute>
			    <extensionAttribute showLabel="true" editable="true" hideIfEmpty="true" extensionIdRef="office_hours" labelKey="label.officeHours" bundleIdRef="profExtAttr"/>
			</jobInformation>
			<contactInformation>
				<!-- <editableAttribute hideIfEmpty="true" showLabel="true">courtesyTitle</editableAttribute> -->
				<editableAttribute showLabel="true" hideIfEmpty="true" disabled="true" prependHtml="&lt;strong&gt;" appendHtml="&lt;/strong&gt;&lt;br/&gt;">displayName</editableAttribute>
				<!-- <editableAttribute showLabel="true" hideIfEmpty="true">preferredFirstName</editableAttribute> -->
				<!-- <editableAttribute showLabel="true" hideIfEmpty="true">preferredLastName</editableAttribute> -->
				<!-- <editableAttribute showLabel="true" hideIfEmpty="true">alternateLastname</editableAttribute> -->
				<!-- <editableAttribute showLabel="true" hideIfEmpty="true">nativeFirstName</editableAttribute> -->
				<!-- <editableAttribute showLabel="true" hideIfEmpty="true">nativeLastName</editableAttribute> -->
				<!-- <editableAttribute showLabel="true" hideIfEmpty="true">preferredLanguage</editableAttribute> -->
				<editableAttribute showLabel="true" hideIfEmpty="true">bldgId</editableAttribute>
				<editableAttribute showLabel="true" hideIfEmpty="true">floor</editableAttribute>
				<editableAttribute showLabel="true" hideIfEmpty="true">officeName</editableAttribute>
				<editableAttribute showLabel="true" hideIfEmpty="true">telephoneNumber</editableAttribute>
				<editableAttribute showLabel="true" hideIfEmpty="true">ipTelephoneNumber</editableAttribute>
				<editableAttribute showLabel="true" hideIfEmpty="true">mobileNumber</editableAttribute>
				<editableAttribute showLabel="true" hideIfEmpty="true">pagerNumber</editableAttribute>
				<!-- <editableAttribute showLabel="true" hideIfEmpty="true">pagerType</editableAttribute> -->
				<!-- <editableAttribute showLabel="true" hideIfEmpty="true">pagerId</editableAttribute> -->
				<!-- <editableAttribute showLabel="true" hideIfEmpty="true">pagerServiceProvider</editableAttribute> -->
				<editableAttribute showLabel="true" hideIfEmpty="true">faxNumber</editableAttribute>
				<attribute showLabel="true" hideIfEmpty="true" email="true">email</attribute>
				<editableAttribute showLabel="true" hideIfEmpty="true" email="true">groupwareEmail</editableAttribute>
				<!-- <editableAttribute showLabel="true" hideIfEmpty="true" link="true">calendarUrl</editableAttribute> -->
				<!-- <editableAttribute showLabel="true" hideIfEmpty="true" link="true">freeBusyUrl</editableAttribute> -->
				<editableAttribute showLabel="true" hideIfEmpty="true" blogUrl="true">blogUrl</editableAttribute>			
				<attribute showLabel="true" hideIfEmpty="true">jobResp</attribute>
				<attribute showLabel="true" hideIfEmpty="true">secretaryName</attribute>	
				<extensionAttribute showLabel="true" editable="true" hideIfEmpty="true" extensionIdRef="spoken_Lang" labelKey="label.spokenLanguage" bundleIdRef="profExtAttr"/>
				<extensionAttribute showLabel="true" editable="true" hideIfEmpty="true" extensionIdRef="office_hours" labelKey="label.officeHours" bundleIdRef="profExtAttr"/>				
			</contactInformation>
			<associatedInformation>
				<editableAttribute showLabel="false" richtext="true">description</editableAttribute>
				<editableAttribute showLabel="true" richtext="true" hideIfEmpty="true">experience</editableAttribute>
			<extensionAttribute showLabel="true" editable="true" richtext="true" hideIfEmpty="true" extensionIdRef="hobbies" labelKey="label.hobbies" bundleIdRef="profExtAttr"/>
			</associatedInformation>
		</profileLayout>		
	</layoutConfiguration>
	<!-- END LAYOUT CONFIGURATION SECTION-->
	
	<apiConfiguration>
		<apiModel profileType="default">
			<editableApiAttribute>jobResp</editableApiAttribute>
			<editableApiAttribute>secretaryUid</editableApiAttribute>
			<!-- <editableApiAttribute>secretaryUid</editableApiAttribute> -->
			<!-- <editableApiAttribute>secretaryEmail</editableApiAttribute> -->
			<!-- <editableApiAttribute>isManager</editableApiAttribute> -->
			<!-- <editableApiAttribute>employeeNumber</editableApiAttribute> -->
			<!-- <editableApiAttribute>managerUid</editableApiAttribute> -->
			<!-- <editableApiAttribute>shift</editableApiAttribute> -->
			<!-- <editableApiAttribute>deptNumber</editableApiAttribute> -->
			<!-- <editableApiAttribute>courtesyTitle</editableApiAttribute> -->
			<!-- <editableApiAttribute>displayName</editableApiAttribute> -->
			<!-- <editableApiAttribute>preferredFirstName</editableApiAttribute> -->
			<!-- <editableApiAttribute>preferredLastName</editableApiAttribute> -->
			<!-- <editableApiAttribute>alternateLastname</editableApiAttribute> -->
			<!-- <editableApiAttribute>nativeFirstName</editableApiAttribute> -->
			<!-- <editableApiAttribute>nativeLastName</editableApiAttribute> -->
			<!-- <editableApiAttribute>preferredLanguage</editableApiAttribute> -->
			<editableApiAttribute>bldgId</editableApiAttribute>
			<editableApiAttribute>floor</editableApiAttribute>
			<editableApiAttribute>officeName</editableApiAttribute>
			<editableApiAttribute>telephoneNumber</editableApiAttribute>
			<editableApiAttribute>ipTelephoneNumber</editableApiAttribute>
			<editableApiAttribute>mobileNumber</editableApiAttribute>
			<editableApiAttribute>pagerNumber</editableApiAttribute>
			<!-- <editableApiAttribute>pagerType</editableApiAttribute> -->
			<!-- <editableApiAttribute>pagerId</editableApiAttribute> -->
			<!-- <editableApiAttribute>pagerServiceProvider</editableApiAttribute> -->
			<editableApiAttribute>faxNumber</editableApiAttribute>
			<editableApiAttribute>groupwareEmail</editableApiAttribute>
			<!-- <editableApiAttribute>calendarUrl</editableApiAttribute> -->
			<!-- <editableApiAttribute>freeBusyUrl</editableApiAttribute> -->
			<editableApiAttribute>blogUrl</editableApiAttribute>
			<editableApiAttribute>description</editableApiAttribute>
			<editableApiAttribute>experience</editableApiAttribute>
                     <editableApiExtensionAttribute extensionIdRef="spoken_Lang"/>
			<editableApiExtensionAttribute extensionIdRef="office_hours"/>
			<editableApiExtensionAttribute extensionIdRef="hobbies"/>
			
			<!-- This attribute is required by the profile links feature -->
			<editableApiExtensionAttribute extensionIdRef="profileLinks"/>
			
			<!-- Needed to make timezone editable in UI -->
			<editableApiAttribute>timezone</editableApiAttribute>
		</apiModel>
	</apiConfiguration>

	<!--  CACHE CONFIG START -->
	<caches>
		<fullReportsToChainCache>
			<enabled>true</enabled>
			<size>500</size>
			<refreshTime>23:00</refreshTime><!-- 24 hour time -->
			<refreshInterval>20</refreshInterval>
			<!-- minutes -->
			<startDelay>5</startDelay><!-- minutes -->
			<ceouid>CEO_UID</ceouid><!-- the uid of the top of the org structure pyramid-->
		</fullReportsToChainCache>
		<profileObjectCache>
			<refreshTime>22:30</refreshTime> <!-- 24 hour time -->
			<refreshInterval>15</refreshInterval> <!-- minutes -->
			<startDelay>10</startDelay> <!-- minutes -->
		</profileObjectCache>
	</caches>
	<!--  CACHE CONFIG END -->

	<!--  DATA ACCESS CONFIG START -->
	<dataAccess>
		<!-- indicates if organizational data is available (i.e. managerUid) -->
		<organizationalStructureEnabled enabled="true"/>
		<!-- indicates which fields need to be resolved before being displayed -->
		<!-- WARNING: in most deployments the resolvedCodes section should not be modified -->
		<resolvedCodes>
			<resolvedCode>workLocationCode</resolvedCode>
			<resolvedCode>orgId</resolvedCode>
			<resolvedCode>employeeTypeCode</resolvedCode>
			<resolvedCode>countryCode</resolvedCode>
			<resolvedCode>departmentCode</resolvedCode>
		</resolvedCodes>
		<!-- search preferences -->
		<!-- WARNING: in most deployments the departmentSearchOnCode, departmentSearchOnCode, -->
		<!-- and locationSearchOnCode should not be modified -->
		<search>
			<departmentSearchOnCode>false</departmentSearchOnCode>
			<departmentField>organization</departmentField>
			<locationSearchOnCode>false</locationSearchOnCode>
			<maxRowsToReturn>250</maxRowsToReturn>
			<pageSize>10</pageSize>
			<sortNameSearchResultsBy default="displayName" />
			<sortIndexSearchResultsBy default="relevance" />
		</search>
		
		<!-- Directory integration configuration -->
		<directory>
			<!-- 
				Specifies the profiles field that is used to resolve person records via WALTZ / Javelin 
			-->
			<lconnUserIdField>guid</lconnUserIdField>
			
			<!-- 
				Lists fields that will be used to resolve user at login time
			 -->
			<loginAttributes>
				<loginAttribute>uid</loginAttribute>
				<loginAttribute>email</loginAttribute>
				<loginAttribute>loginId</loginAttribute>
			</loginAttributes>
		</directory>
		
		<!-- 
			Optional security setting for Profiles javelin card.  This setting is to disallow JSONP security.  
			Older 3rd party software may will not work with this setting unless they include a reverse proxy.  
			All of the Connections application will work with JSONP disabled.
		-->
		<allowJsonpJavelin enabled="true"/>
		
		<!-- 
			Untested/non-'supported' feature that adds 'simple' extension attributes to javelin JS for
			implementors that manually edit javelin card JSP.
		-->
		<includeExtensionsInJavelinJS enabled="false"/>
		
		<!-- 
			When name ordering is enabled, names must be entered as (FirstName LastName) or (LastName, FirstName).  
			This feature removes the ordering restriction but at a minor performance penalty.
		 -->
		<nameOrdering enabled="false"/>
	</dataAccess>
	<!--  DATA ACCESS CONFIG END -->

	<!-- STATISTICS CONFIG START -->
	<statistics enabled="true">
		<statisticsFilePath>${PROFILES_STATS_DIR}//LC_NODE_NAME//${WAS_SERVER_NAME}</statisticsFilePath>
		<statisticsFileName>profilesStats</statisticsFileName>
	</statistics>
	<!-- STATISTICS CONFIG END -->
	
	<acf enabled="true" />	
    <sametimeAwareness enabled="false" href="http://localhost:59449/stwebapi/" ssl_href="http://localhost:59449/stwebapi/" sametimeInputType="uid" />
	<javelinGWMailSearch enabled="false"/>

	<!-- Additional config settings START -->
	<properties>
		<property name="com.ibm.lconn.profiles.config.theboard.entry.MaxChars" value="1000"/>
		<property name="com.ibm.lconn.profiles.config.ui.theboard.entry.ViewTruncateChars" value="250"/>
		<property name="com.ibm.lconn.profiles.config.ui.theboard.comment.ViewTruncateChars" value="250"/>
		<property name="com.ibm.lconn.profiles.config.MakeFollowingInfoPublic" value="false"/>
		<property name="com.ibm.lconn.profiles.ui.reportingChain.isBottomUp" value="true"/> 
		
		<!-- directory page: people type-ahead search (ptas) -->
		<property name="com.ibm.lconn.profiles.config.ui.ptas.fireOnKeys" value="1" /> 
		<property name="com.ibm.lconn.profiles.config.ui.ptas.delayBetweenKeys" value="0" /> 
		<property name="com.ibm.lconn.profiles.config.ui.ptas.maxResults" value="20" /> 
		<property name="com.ibm.lconn.profiles.config.ui.ptas.liveNameSupport" value="true" /> 
		<property name="com.ibm.lconn.profiles.config.ui.ptas.expandThumbnails" value="true" /> 
		<property name="com.ibm.lconn.profiles.config.ui.ptas.blankOnEmpty" value="true" /> 
	</properties>
	<!-- Additional config settings END -->

	<!-- BOARD UI ENABLEMENT -->
	<board enabled="true"/>
	
</config>
