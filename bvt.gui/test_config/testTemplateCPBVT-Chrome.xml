<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">

<!-- TEMPLATE VERSION
2012.05.23-1830
-->

<suite thread-count="3" name="Complete CP BVT Run" parallel="tests" >

  <!-- GROUPS -->
  <!-- Will need to add some groups for the different products that can be test
  - for connections maybe something like - connlevel2
  - for smart cloud maybe something like - sclevel2
  -->
  <groups>
    <run>
      <include name="cplevel2" />
      <include name="PdfExport" />
    </run>
  </groups>
  <!-- Test method has to contain all groups to be run if intersect_groups is true -->
  <parameter name="intersect_groups" value="false" />
  <parameter name="auth_type" value="form" />

 <!-- To run tests on browserstack -->
  <parameter name="server_is_browserstack" value="false" />
  <parameter name="browserstack_username" value="" />
  <parameter name="browserstack_key" value="" />

  <!-- SET BROWSERSTACK DEBUG -->
  <parameter name="browserstack_debug" value="false"/>

  <!-- SELENIUM GRID/REMOTE SERVER SETTINGS -->
  <!--<parameter name="server_is_grid_hub" value="true" />
  <parameter name="server_host" value="dubxpcvm023.mul.ie.ibm.com" />
  <parameter name="server_port" value="5555" />-->

  <!-- To run tests locally -->
  <parameter name="server_is_grid_hub" value="true" />
  <parameter name="server_is_legacy_grid" value="false" />
  <parameter name="server_host" value="testautolb.cnx.cwp.pnp-hcl.com" />
  <parameter name="server_port" value="4444" />
<!--   <parameter name="selenoid_username" value="test" />
  <parameter name="selenoid_key" value="test-password" />
 -->
 
  <!-- PRODUCT TO TEST -->
  <parameter name="product_name" value="onprem" />

  <!-- LOGIN TYPE <onprem | cloud | icsaml> -->
  <parameter name="login_type" value="onprem" />
  
  <!-- APPLICATION UNDER TEST HOST SERVER -->
  <parameter name="browser_url" value="https://cpbvtproxy.cnx.cwp.pnp-hcl.com/" />
  <!--parameter name="browser_url" value="https://apps.collabservdaily.swg.usma.ibm.com/" /-->

  <!-- BROWSER START COMMAND -->
  <parameter name="browser_start_command" value="chrome_0_Linux_10" />
  <!-- parameter name="browser_start_command" value="chrome_0_Windows_10" / -->

  <!-- Connections properties-->
  <parameter name="default_app_properties" value="test_config/app/app.properties" />
  <parameter name="default_users_properties" value="test_config/extensions/user/UserProperties_Ansible.properties" />
  <!-- Ansible deployment properties-->
  <!-- parameter name="default_users_properties" value="test_config/extensions/user/UserProperties_Ansible.properties" / -->
  <!-- Smart Cloud properties-->
  <!--parameter name="default_app_properties" value="test_config/app/app.properties" />
  <parameter name="default_users_properties" value="test_config/extensions/user/sc_users.properties" /-->

  <!-- WAFFLE CONFIGURATION PARAMETERS -->
  <parameter name="fluent_wait_timeout" value="45" />
  <parameter name="timeout_implicit_wait" value="60000" />
  <parameter name="browserstack_timeout" value="120" />
  <parameter name="timeout_async_script" value="30000" />
  <parameter name="timeout_page_navigate_timeout" value="60000" />
  <parameter name="pch_enable_dojo_pageload" value="false" />
  <parameter name="pch_enable_standard_pageload" value="false" />
  <parameter name="pch_post_event_pause" value="700" />
  <parameter name="location_force_script" value="false" /><!-- Was false -->
  <parameter name="location_use_fallback_strategy" value="false" />
  <parameter name="max_retries" value="1" />

  <!-- CUSTOM PARAMETERS -->
  <parameter name="bvt_option" value="BVT" />
  <parameter name="users_login_preference" value="email" />
  <parameter name="users_typeahead_preference" value="Display name" />
  <parameter name="root_folder_name" value="SeleniumServer" />
  <parameter name="upload_files_folder_name" value="TestFiles" />
  <parameter name="special_characters" value="false" />
  <parameter name="filenet_enabled" value="false" />
  <parameter name="push_videos" value="true" />
  <!-- legacy grid -->
  <!-- parameter name="file_server" value="ictube.cnx.cwp.pnp-hcl.com/videos" /-->
  <parameter name="file_server" value="testautolb.cnx.cwp.pnp-hcl.com" />

  <!-- LISTENERS -->
  <listeners>
    <listener class-name="com.ibm.atmn.waffle.base.BaseExecutionListener" />
    <listener class-name="com.ibm.atmn.waffle.base.BaseTestListener" />
    <listener class-name="com.ibm.atmn.waffle.base.BaseSuiteListener" />
    <listener class-name="com.ibm.atmn.waffle.base.BaseRetryListener" />
    <listener class-name="com.ibm.atmn.waffle.base.BaseInterceptorListener" />
    <listener class-name="org.uncommons.reportng.HTMLReporter" />
  </listeners>


<!-- TESTS --> 
  <test name="Blogs" thread-count="2" parallel="methods" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.blogs.BVT_Level_2_Blogs" />
      <class name="com.ibm.conn.auto.tests.blogs.BVT_ExportToPdf_Blogs" />
    </classes>
  </test>

  <test name="Bookmarks" parallel="tests" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.dogear.BVT_Level_2_Dogear" />
    </classes>
  </test>

  <test name="Calendar" thread-count="2" parallel="methods" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.calendar.BVT_Level_2_Calendar" />
    </classes>
  </test>
  
  <test name="Communities_RecentlyVisited" parallel="tests" preserve-order="false" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.communities.BVT_ComponentPack_Communities" />
    </classes>
  </test>
  
  <test name="Communities_QuickResult" thread-count="2" parallel="methods" preserve-order="false" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.communities.BVT_ComponentPack_QuickResults" />
    </classes>
  </test>

  <test name="Communities_Widgets" parallel="tests" preserve-order="false" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.communities.BVT_Level_2_Communities_Widgets" />
    </classes>
  </test>

  <test name="Communities" parallel="tests" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.communities.BVT_Level_2_Communities" />
      <class name="com.ibm.conn.auto.tests.communities.BVT_ExportToPdf_Communities" />
    </classes>
  </test>
  
  <test name="Customizer" preserve-order="true" enabled="true">
   <packages>
     <package name="com.ibm.conn.auto.tests.customizer" />
   </packages>
  </test>

  <test name="Embedded Experience" parallel="tests" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.homepage.BVT_Level_2_Homepage_EE" />
    </classes>
  </test>
  
  <test name="Files_RecentlyVisited" parallel="tests" preserve-order="false" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.files.BVT_ComponentPack_FilesRecentlyVisited" />
    </classes>
  </test>

  <test name="Files" thread-count="2" parallel="methods" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.files.BVT_Level_2_Files" />
    </classes>
  </test>
  
  <test name="Forums" thread-count="2" parallel="methods" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.forums.BVT_Level_2_Forums" />
      <class name="com.ibm.conn.auto.tests.forums.BVT_ExportToPdf_Forums" />
    </classes>
  </test>

  <test name="Homepage" parallel="tests" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.homepage.BVT_Level_2_Homepage" />
    </classes>
  </test>

  <test name="Mentions" parallel="tests" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.mentions.BVT_Homepage_Mentions" />
    </classes>
  </test>
  
  <test name="Metrics_ElasticSearch" parallel="tests" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.metrics_elasticSearch.regression.Community_ContentView" />
      <class name="com.ibm.conn.auto.tests.metrics_elasticSearch.regression.Global_ParticipationView" />
    </classes>
  </test>
  
  <test name="News" parallel="tests" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.homepage.BVT_Level_2_Homepage_AS" />
    </classes>
  </test>
  
  <test name="Orient-Me" parallel="tests" preserve-order="true" enabled="true">
    <packages>
      <package name="com.ibm.conn.auto.tests.orientme" />
    </packages>
  </test>

  <test name="Profiles" parallel="tests" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.profiles.BVT_Level_2_Profiles" />
    </classes>
  </test>

  <test name="Search" parallel="tests" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.globalsearch.BVT_Level_2_Global_Search" />
    </classes>
  </test>

  <test name="Sharebox" parallel="tests" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.sharebox.BVT_Level_2_Sharebox" />
    </classes>
  </test>
  
  <test name="Tailored Experience" thread-count="3" parallel="methods" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.communities.BVT_TailoredExperience_Communities" />
    </classes>
  </test>
  
  <test name="Touchpoint" parallel="tests" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.touchpoint.BVT_Level_2_Touchpoint_AddYourInterestsScreen" />
      <class name="com.ibm.conn.auto.tests.touchpoint.BVT_Level_2_Touchpoint_FollowCommunitiesScreen" />
    </classes>
  </test>
  
  <test name="Wikis" thread-count="2" parallel="methods" preserve-order="true" enabled="true">
    <classes>
      <class name="com.ibm.conn.auto.tests.wikis.BVT_Level_2_Wikis" />
      <class name="com.ibm.conn.auto.tests.wikis.BVT_ExportToPdf_Wikis" />
    </classes>
  </test>
  
   <test name="Middleware-jsonapi service" thread-count="5" parallel="methods" preserve-order="true" enabled="true">
    <classes>
       <class name="com.hcl.lconn.automation.framework.tests.MiddlewareJsonapiServiceTest" />
    </classes>
   </test>
    
  <test name="CNX8UI tests" thread-count="3" parallel="methods" preserve-order="true" enabled="true">
  	  <parameter name="use_new_ui" value="true" />
	  <parameter name="is_kudosboard_enabled" value="false"  />
      <groups>
        <run>
          <include name="cnx8ui-cplevel2" />
        </run>
      </groups>
      <classes>       
         <class name="com.ibm.conn.auto.tests.share.BVT_Cnx8_UI_ShareInConnections" />
         <class name="com.ibm.conn.auto.tests.socialSidebar.BVT_Cnx8_SocialSidebar" />
         <class name="com.ibm.conn.auto.tests.share.BVT_Cnx8_UI_ShareInConnections_MemberPicker" />
      </classes>
    </test>
    
    <test name="CNX8UI Blogs" thread-count="3" parallel="methods" preserve-order="true" enabled="true">
  	  <parameter name="use_new_ui" value="true" />
      <groups>
        <run>
          <include name="cnx8ui-cplevel2" />
        </run>
      </groups>
      <classes>
         <class name="com.ibm.conn.auto.tests.blogs.BVT_Cnx8UI_Blogs" />
      </classes>
    </test>
    
    <test name="CNX8UI Homepage" thread-count="3" parallel="methods" preserve-order="true" enabled="true">
  	  <parameter name="use_new_ui" value="true" />
	  <parameter name="is_kudosboard_enabled" value="false"  />
      <groups>
        <run>
          <include name="cnx8ui-cplevel2" />
        </run>
      </groups>
      <classes>
         <class name="com.ibm.conn.auto.tests.homepage.BVT_Cnx8UI_Homepage" />
		 <class name="com.ibm.conn.auto.tests.homepage.BVT_Cnx8UI_Homepage_Discover" />
		 <class name="com.ibm.conn.auto.tests.homepage.BVT_Cnx8UI_Homepage_LatestUpdate" />
         <class name="com.ibm.conn.auto.tests.homepage.BVT_Level_2_Homepage" />
         <class name="com.ibm.conn.auto.tests.homepage.BVT_Cnx8UI_Homepage_TopUpdates" />
      </classes>
    </test>
    
    <test name="CNX8UI Profiles" thread-count="3" parallel="methods" preserve-order="true" enabled="true">
  	  <parameter name="use_new_ui" value="true" />
  	  <parameter name="is_kudosboard_enabled" value="false"  />
      <groups>
        <run>
          <include name="cnx8ui-cplevel2" />
        </run>
      </groups>
      <classes>
         <class name="com.ibm.conn.auto.tests.profiles.BVT_Cnx8UI_Profiles_Directory" />
         <class name="com.ibm.conn.auto.tests.profiles.BVT_Level_2_Profiles"/>
         <class name="com.ibm.conn.auto.tests.profiles.BVT_Cnx8UI_Profiles_Bizcard"/>
         <class name="com.ibm.conn.auto.tests.profiles.BVT_Cnx8UI_Profiles_MyProfile"/>
         <class name="com.ibm.conn.auto.tests.profiles.BVT_Cnx8UI_Profiles_Settings"/>
      </classes>
    </test>
    
    <test name="CNX8UI Profiles My Network" preserve-order="true" enabled="true">
  	  <parameter name="use_new_ui" value="true" />
      <groups>
        <run>
          <include name="cnx8ui-cplevel2" />
        </run>
      </groups>
      <classes>
         <class name="com.ibm.conn.auto.tests.profiles.BVT_Cnx8UI_Profiles_MyNetwork" />
      </classes>
    </test>
    
     <test name="CNX8UI GlobalSearch" thread-count="2" parallel="methods" preserve-order="true" enabled="true">
  	  <parameter name="use_new_ui" value="true" />
	  <parameter name="is_kudosboard_enabled" value="false"  />
      <groups>
        <run>
          <include name="cnx8ui-cplevel2" />
        </run>
      </groups>
      <classes>
         <class name="com.ibm.conn.auto.tests.communities.BVT_Cnx8UI_Communities_Search" />
         <class name="com.ibm.conn.auto.tests.profiles.BVT_Cnx8UI_Profiles_Search" />
         <class name="com.ibm.conn.auto.tests.files.BVT_Cnx8UI_Files_Search" />
         <class name="com.ibm.conn.auto.tests.homepage.BVT_Cnx8UI_Homepage_Search" />
         <class name="com.ibm.conn.auto.tests.blogs.BVT_Cnx8UI_Blogs_Search" />
         <class name="com.ibm.conn.auto.tests.forums.BVT_Cnx8UI_Forums_Search" />
         <class name="com.ibm.conn.auto.tests.wikis.BVT_Cnx8UI_Wikis_Search" />   
      </classes>
    </test>
    
    
    
    <test name="CNX8UI ITM" thread-count="3" parallel="methods" preserve-order="true" enabled="true">
  	  <parameter name="use_new_ui" value="true" />
	  <parameter name="is_kudosboard_enabled" value="false"  />
      <groups>
        <run>
          <include name="cnx8ui-cplevel2" />
        </run>
      </groups>
      <classes>
         <class name="com.ibm.conn.auto.tests.homepage.BVT_CNX8UI_Homepage_ITM" />
         <class name="com.ibm.conn.auto.tests.dogear.BVT_Cnx8UI_Dogear" />
         <class name="com.ibm.conn.auto.tests.forums.BVT_Cnx8UI_Forums" />
         <class name="com.ibm.conn.auto.tests.wikis.BVT_Cnx8UI_Wikis" />   
         <class name="com.ibm.conn.auto.tests.orientme.BVT_Level_2_OrientMe_ImportantToMe">
                <methods>
                    <include name="clickOnCommunityInItm" />
                </methods>
         </class>
      </classes>
    </test>
    
    <test name="CNX8UI AppReg" preserve-order="true" enabled="true">
      <parameter name="use_new_ui" value="true" />
	  <parameter name="is_kudosboard_enabled" value="false"  />
      <groups>
        <run>
          <include name="cnx8ui-cplevel2" />
        </run>
      </groups>
      
      <classes>
         <class name="com.ibm.conn.auto.tests.homepage.BVT_Cnx8UI_Homepage_AdminBanner" />
         <class name="com.ibm.conn.auto.tests.homepage.BVT_Cnx8UI_Homepage_Navigation" />
         <class name="com.ibm.conn.auto.tests.homepage.BVT_Cnx8UI_Homepage_CustomStyle" />
         <class name="com.ibm.conn.auto.tests.share.BVT_Cnx8_UI_ShareInTeams" />
         <class name="com.ibm.conn.auto.tests.homepage.BVT_Cnx8UI_Homepage_CustomizedSearch" />
      </classes>
    </test>
    
    <test name="CNX8UI Forums" preserve-order="true" enabled="true">
      <parameter name="use_new_ui" value="true" />
	  <parameter name="is_kudosboard_enabled" value="false"  />
      <groups>
        <run>
          <include name="cnx8ui-cplevel2" />
        </run>
      </groups>
      
      <classes>
          <class name="com.ibm.conn.auto.tests.forums.BVT_Level_2_Forums" >
		 	<methods>
					<exclude name="comForumTopicReply" />
				</methods>
		</class>
      </classes>
    </test>
    
     <test name="CNX8UI ExportPDF Forums" preserve-order="true" enabled="true">
      <parameter name="use_new_ui" value="true" />
	  <parameter name="is_kudosboard_enabled" value="false" />
      <groups>
        <run>
          <include name="cnx8ui-cplevel2" />
        </run>
      </groups>
      
      <classes>
         <class name="com.ibm.conn.auto.tests.forums.BVT_ExportToPdf_Forums" >
		</class>
      </classes>
    </test>
    
      <test name="CNX8UI Files" preserve-order="true" enabled="true">
      <parameter name="use_new_ui" value="true" />
	  <parameter name="is_kudosboard_enabled" value="false" />
      <groups>
        <run>
          <include name="cnx8ui-cplevel2" />
        </run>
      </groups>
      
      <classes>
         <class name="com.ibm.conn.auto.tests.files.BVT_Cnx8UI_Files" >
		</class>
      </classes>
    </test>
    
    <test name="CNX8UI Orient-Me" preserve-order="true" enabled="true">
      <parameter name="use_new_ui" value="true" />
	  <parameter name="is_kudosboard_enabled" value="false" />
      <groups>
        <run>
          <include name="cnx8ui-cplevel2" />
        </run>
      </groups>
      
      <classes>
         <class name="com.ibm.conn.auto.tests.orientme.BVT_Level_2_OrientMe_TopUpdates_Entries" >
		</class>
      </classes>
    </test>
    
    <test name="CNX8UI Activities" thread-count="3" parallel="methods" preserve-order="true" enabled="true">
  	  <parameter name="use_new_ui" value="true" />
      <groups>
        <run>
          <include name="cnx8ui-cplevel2" />
        </run>
      </groups>
      <classes>
         <class name="com.ibm.conn.auto.tests.activities.BVT_Cnx8UI_Activities" />
      </classes>
    </test>
    
    <test name="CNX8UI Communities" thread-count="3" parallel="methods" preserve-order="true" enabled="true">
  	  <parameter name="use_new_ui" value="true" />
      <groups>
        <run>
          <include name="cnx8ui-cplevel2" />
        </run>
      </groups>
      <classes>
         <class name="com.ibm.conn.auto.tests.communities.BVT_Cnx8UI_Communities" />
      </classes>
    </test>

</suite>
