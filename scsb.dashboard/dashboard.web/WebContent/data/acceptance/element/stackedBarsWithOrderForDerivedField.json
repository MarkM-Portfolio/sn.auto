{
  "data": [
    {
      "id": "source",
      "fields": [
        {"id": "fX"},
        {"id": "fY"},
        {"id": "fColorGroup", "order": [ 1, 0 ], "categories" : ["A", "B"]}
      ],
      "rows": [
        [ 4.098861069, 1, 0 ],
        [ 6.936233998, 1, 0 ],
        [ 14.61983658, 1, 0 ],
        [ 17.93896653, 1, 0 ],
        [ 19.876825655, 2, 0 ],
        [ 20.60732273, 2, 0 ],
        [ 21.48839939, 1, 0 ],
        [ 22.49008038, 1, 0 ],
        [ 24.24321721, 1, 0 ],
        [ 25.247273175, 2, 0 ],
        [ 25.78552634, 2, 0 ],
        [ 26.37456769, 1, 0 ],
        [ 27.869652272499998, 4, 0 ],
        [ 28.80804179, 1, 0 ],
        [ 30.868108465, 2, 0 ],
        [ 31.896949815, 2, 0 ],
        [ 32.37786562, 1, 0 ],
        [ 32.72806469, 4, 0 ],
        [ 32.98182432, 1, 0 ],
        [ 34.33549547, 1, 0 ],
        [ 34.705648636666666, 6, 0 ],
        [ 35.19970854, 1, 0 ],
        [ 35.86680402, 1, 0 ],
        [ 36.372541096666666, 3, 0 ],
        [ 36.82793287333333, 3, 0 ],
        [ 37.30164598, 1, 0 ],
        [ 37.56962372, 1, 0 ],
        [ 37.8830488825, 4, 0 ],
        [ 38.24500394, 1, 0 ],
        [ 38.97692788, 2, 0 ],
        [ 39.351271126666674, 3, 0 ],
        [ 39.576208949999995, 2, 0 ],
        [ 39.85705964, 4, 0 ],
        [ 40.16988576, 1, 0 ],
        [ 40.509906685000004, 2, 0 ],
        [ 41.030599529999996, 3, 0 ],
        [ 41.412244969999996, 3, 0 ],
        [ 41.7174511125, 4, 0 ],
        [ 42.429746704, 5, 0 ],
        [ 42.75896140333334, 3, 0 ],
        [ 43.1844360225, 4, 0 ],
        [ 43.58455289, 1, 0 ],
        [ 44.55889201, 4, 0 ],
        [ 44.89707560666667, 3, 0 ],
        [ 45.25738892333333, 3, 0 ],
        [ 45.71595783666667, 3, 0 ],
        [ 46.260181573333334, 3, 0 ],
        [ 46.4901849, 1, 0 ],
        [ 46.759486554999995, 2, 0 ],
        [ 47.32255647333333, 3, 0 ],
        [ 47.71256723374999, 8, 0 ],
        [ 48.209822302, 5, 0 ],
        [ 48.45334368, 1, 0 ],
        [ 48.87880143, 1, 0 ],
        [ 49.206616026, 5, 0 ],
        [ 49.84308333714286, 7, 0 ],
        [ 50.33296973, 8, 0 ],
        [ 50.657327773333336, 3, 0 ],
        [ 51.2107051, 7, 0 ],
        [ 51.69351087333333, 3, 0 ],
        [ 51.949924152, 5, 0 ],
        [ 52.22529561666666, 3, 0 ],
        [ 52.493712583333334, 6, 0 ],
        [ 52.768740890000004, 3, 0 ],
        [ 53.18282369, 2, 0 ],
        [ 53.424094726666674, 3, 0 ],
        [ 53.65029903, 2, 0 ],
        [ 54.09496546, 5, 0 ],
        [ 54.566041202, 5, 0 ],
        [ 54.95640755125, 8, 0 ],
        [ 55.47778199714286, 7, 0 ],
        [ 55.87694898875, 8, 0 ],
        [ 56.25624624125, 8, 0 ],
        [ 56.680147223333336, 3, 0 ],
        [ 56.98866863333333, 12, 0 ],
        [ 57.51984323, 6, 0 ],
        [ 57.833418144, 5, 0 ],
        [ 58.19123127, 1, 0 ],
        [ 58.52219188, 4, 0 ],
        [ 58.87863624, 4, 0 ],
        [ 59.255407287500006, 8, 0 ],
        [ 59.85338055142857, 7, 0 ],
        [ 60.16529208272728, 11, 0 ],
        [ 60.57975525, 4, 0 ],
        [ 60.84331277, 7, 0 ],
        [ 61.263017269230765, 13, 0 ],
        [ 61.63349314888889, 9, 0 ],
        [ 61.87917545, 2, 0 ],
        [ 62.216308295000005, 6, 0 ],
        [ 62.55661405285714, 7, 0 ],
        [ 62.969621634444444, 9, 0 ],
        [ 63.356550741666666, 6, 0 ],
        [ 63.659112657777776, 9, 0 ],
        [ 63.966269705, 10, 0 ],
        [ 64.23979134, 3, 0 ],
        [ 64.66448826727273, 11, 0 ],
        [ 65.13127052, 3, 0 ],
        [ 65.39878027333334, 6, 0 ],
        [ 65.66457038499999, 2, 0 ],
        [ 65.901769677, 10, 0 ],
        [ 66.2969795875, 4, 0 ],
        [ 66.56648989000001, 7, 0 ],
        [ 66.82090149833334, 6, 0 ],
        [ 67.13970168888889, 9, 0 ],
        [ 67.493200974, 10, 0 ],
        [ 67.93025943333333, 9, 0 ],
        [ 68.36943144636363, 11, 0 ],
        [ 68.69966522833333, 6, 0 ],
        [ 68.99878451400001, 10, 0 ],
        [ 69.45017057, 5, 0 ],
        [ 69.7156387, 3, 0 ],
        [ 70.03703073166668, 6, 0 ],
        [ 70.292342542, 5, 0 ],
        [ 70.58107524545454, 11, 0 ],
        [ 71.00551182555554, 9, 0 ],
        [ 71.36288587428571, 7, 0 ],
        [ 71.65434470666668, 3, 0 ],
        [ 72.003527765, 12, 0 ],
        [ 72.28385286666666, 3, 0 ],
        [ 72.51744782857142, 7, 0 ],
        [ 72.79183631833332, 6, 0 ],
        [ 73.105649965, 2, 0 ],
        [ 73.34086455230769, 13, 0 ],
        [ 73.77229710818182, 11, 0 ],
        [ 74.29728751636362, 11, 0 ],
        [ 74.6770709125, 8, 0 ],
        [ 75.05074987636364, 22, 0 ],
        [ 75.43937872583334, 12, 0 ],
        [ 75.81300137000001, 10, 0 ],
        [ 76.20405292615385, 13, 1 ],
        [ 76.53226942583333, 12, 1 ],
        [ 76.925313925, 16, 1 ],
        [ 77.35255927200001, 10, 1 ],
        [ 77.75207861, 7, 1 ],
        [ 78.16041188375, 8, 1 ],
        [ 78.413029011, 10, 1 ],
        [ 78.80307578933333, 15, 1 ],
        [ 79.187125436, 15, 1 ],
        [ 79.540480438, 5, 1 ],
        [ 79.82471421857142, 7, 1 ],
        [ 80.12482691100001, 10, 1 ],
        [ 80.719563954375, 16, 1 ],
        [ 81.01163749916665, 12, 1 ],
        [ 81.40039319555555, 9, 1 ],
        [ 81.738584163, 10, 1 ],
        [ 82.05688129333333, 3, 1 ],
        [ 82.347015157, 10, 1 ],
        [ 82.6616878725, 4, 1 ],
        [ 82.9676921, 4, 1 ],
        [ 83.28946129777778, 9, 1 ],
        [ 83.74381327153846, 13, 1 ],
        [ 84.11673568777778, 18, 1 ],
        [ 84.69449730384615, 13, 1 ],
        [ 85.02492692199999, 5, 1 ],
        [ 85.296896664, 5, 1 ],
        [ 85.555732876, 10, 1 ],
        [ 85.896291498, 10, 1 ],
        [ 86.29684901, 10, 1 ],
        [ 86.69233395428571, 7, 1 ],
        [ 87.07957111, 8, 1 ],
        [ 87.356248492, 5, 1 ],
        [ 87.58653490333333, 6, 1 ],
        [ 88.03065118636364, 11, 1 ],
        [ 88.3858129875, 8, 1 ],
        [ 88.73610458625, 8, 1 ],
        [ 89.01835271, 1, 1 ],
        [ 89.3621831775, 8, 1 ],
        [ 89.64701573, 1, 1 ],
        [ 90.0303070976923, 13, 1 ],
        [ 90.41825197777777, 9, 1 ],
        [ 90.801505432, 5, 1 ],
        [ 91.12506933600001, 5, 1 ],
        [ 91.493344995, 4, 1 ],
        [ 91.82767351, 4, 1 ],
        [ 92.23049572454545, 11, 1 ],
        [ 92.60237867000001, 10, 1 ],
        [ 92.841299725, 2, 1 ],
        [ 93.0895056, 5, 1 ],
        [ 93.32177378749999, 8, 1 ],
        [ 93.61014777833333, 6, 1 ],
        [ 93.97237353125, 8, 1 ],
        [ 94.3623481625, 8, 1 ],
        [ 94.68834286285716, 7, 1 ],
        [ 94.92873976833333, 6, 1 ],
        [ 95.22991133999999, 9, 1 ],
        [ 95.6023408825, 4, 1 ],
        [ 95.942124492, 5, 1 ],
        [ 96.20282764222223, 9, 1 ],
        [ 96.49668679125, 8, 1 ],
        [ 96.80446431200001, 5, 1 ],
        [ 97.08951132499999, 4, 1 ],
        [ 97.51370542777778, 9, 1 ],
        [ 97.92662711777777, 9, 1 ],
        [ 98.23792403600001, 5, 1 ],
        [ 98.55662056142857, 7, 1 ],
        [ 98.897513836, 5, 1 ],
        [ 99.283593076, 10, 1 ],
        [ 99.72137514666667, 6, 1 ],
        [ 99.95416978, 1, 1 ],
        [ 100, 184, 1 ],
        [ 4.098861069, 1, 0 ],
        [ 6.936233998, 1, 0 ],
        [ 14.61983658, 1, 0 ],
        [ 17.93896653, 1, 0 ],
        [ 19.85664351, 1, 0 ],
        [ 19.8970078, 1, 0 ]
      ]
    },
    {
      "id": "binnedHistogram",
      "source": {"$ref": "source"},
      "type": "summary",
      "group": [
        {
          "input": {"$ref": "fX"},
          "output": {
            "id": "binX",
            "format": {"numericPattern": "#,##0.00"}
          }
        },
        {
          "input": {"$ref": "fColorGroup"},
          "output": {
            "id": "binnedColorGroup",
            "order": [ 1, 0 ],
            "unit": "categorical"
          }
        }
      ],
      "input": [
        {"field": {"$ref": "fY"}, "role": "weight"}
      ],
      "output": [
        {
          "field": {
            "id": "binnedCount",
            "format": {
              "numericPattern": "##,###",
              "prefix": "",
              "suffix": ""
            }
          },
          "parameters": {"summaryFunction": "count"}
        },
        {
          "field": {
            "id": "binnedLower",
            "format": {"numericPattern": "#,##0.00"}
          },
          "input": {"$ref": "fX"},
          "parameters": {"summaryFunction": "min"}
        },
        {
          "field": {
            "id": "binnedUpper",
            "format": {"numericPattern": "#,##0.00"}
          },
          "input": {"$ref": "fX"},
          "parameters": {"summaryFunction": "max"}
        }
      ]
    },
    {
      "id": "kernel",
      "source": {"$ref": "source"},
      "type": "distribution.normal",
      "input": [
        {"field": {"$ref": "fX"}, "role": "x"},
        {"field": {"$ref": "fY"}, "role": "weight"}
      ],
      "output": [
        {"field": {"id": "kX"}, "role": "x"},
        {"field": {"id": "kY"}, "role": "y"}
      ]
    }
  ],
  "grammar": [
    {
      "coordinates": {
        "dimensions": [
          {
            "axis": {
              "gridStyle": {
                "fill": {"a": 0.1, "h": 0, "l": 0, "s": 0}
              },
              "lineStyle": {
                "fill": {"a": 0, "h": 0, "l": 0, "s": 0}
              },
              "markStyle": {},
              "tickStyle": {
                "fill": {"a": 0.6, "h": 0, "l": 0, "s": 0},
                "font": {"family": "Arial", "size": "9pt"},
                "padding": 5
              },
              "title": [ "Number of Records" ],
              "titleStyle": {
                "fill": {"a": 0.6, "h": 0, "l": 0, "s": 0},
                "font": {"family": "Arial", "size": "9pt"}
              }
            }
          },
          {
            "axis": {
              "lineStyle": {
                "fill": {"a": 0.25, "h": 0, "l": 0, "s": 0}
              },
              "markStyle": {},
              "tickStyle": {
                "fill": {"a": 0.6, "h": 0, "l": 0, "s": 0},
                "font": {
                  "family": "Arial",
                  "size": "9pt",
                  "weight": "bold"
                },
                "padding": {"bottom": 3, "top": 3}
              },
              "title": [ "Overall Cleanliness" ],
              "titleStyle": {
                "fill": {"a": 0.6, "h": 0, "l": 0, "s": 0},
                "font": {"family": "Arial", "size": "9pt"}
              }
            }
          }
        ],
        "transforms": [ {"type": "stack"} ]
      },
      "elements": [
        {
          "type": "interval",
          "data": {"$ref": "binnedHistogram"},
          "position": [
            {"field": {"$ref": "binnedCount"}},
            {"field": {"$ref": "binX"}}
          ],
          "color": [
            {
              "field": {"$ref": "binnedColorGroup"},
              "mapping": [
                {"at": 0, "color": {"a": 0.1}},
                {"at": 1, "color": {"a": 1}}
              ],
              "modifies": "both"
            }
          ],
          "tooltip": [
            {
              "content": [
                "Overall Cleanliness",
                " = ",
                {"$ref": "binnedLower"},
                " to ",
                {"$ref": "binnedUpper"},
                "\n",
                "Number of Records",
                " = ",
                {"$ref": "binnedCount"}
              ]
            }
          ],
          "style": {
            "fill": {
              "type": "linear",
              "angle": 180,
              "colors": [
                {
                  "color": {
                    "dSaturation": 0.2,
                    "dValue": -0.45,
                    "h": 0.547,
                    "s": 0.845,
                    "v": 0.659
                  },
                  "offset": 0
                },
                {
                  "color": {
                    "dSaturation": 0.15,
                    "dValue": 0.6,
                    "h": 0.547,
                    "s": 0.845,
                    "v": 0.659
                  },
                  "offset": 0.35
                },
                {
                  "color": {
                    "dSaturation": 0.2,
                    "dValue": -0.1,
                    "h": 0.547,
                    "s": 0.845,
                    "v": 0.659
                  },
                  "offset": 0.65
                },
                {
                  "color": {
                    "dSaturation": 0.3,
                    "dValue": -0.05,
                    "h": 0.547,
                    "s": 0.845,
                    "v": 0.659
                  },
                  "offset": 0.9
                },
                {
                  "color": {
                    "dSaturation": 0.1,
                    "dValue": -0.25,
                    "h": 0.547,
                    "s": 0.845,
                    "v": 0.659
                  },
                  "offset": 1
                }
              ]
            },
            "width": "100%"
          }
        }
      ],
      "style": {
        "fill": {"b": 255, "g": 255, "r": 255},
        "padding": 0
      }
    }
  ],
  "size": {"width": 786, "height": 400},
  "version": "1.3"
}
