{
   "data":
   [
      {
         "id":"dataSet",
         "fields":
         [
            {
               "id":"name",
               "label":"Animals",
               "categories":
               [
                  "Cheetah", 
                  "Leopard",
                  "Lion",
                  "Snow Leopard",
                  "Tiger"
               ],
               "key":true
            },
            {
               "id":"mVisitors"
            }
         ],
         "rows":
         [
            [
               0,
               53
            ],
            [
               1,
               25
            ],
            [
               2,
               30
            ],
            [
               3,
               40
            ],
            [
               4,
               66
            ]
         ]
      },
      {
         "id":"period_dataSet",
         "fields":
         [
            {
               "id":"animalByPeriod",
               "label":"Animals",
               "categories":
               [
                  "Cheetah", 
                  "Leopard",
                  "Lion",
                  "Snow Leopard",
                  "Tiger"
               ]
            },
            {
               "id":"Periods",
               "label":"Time Periods",
               "categories":
               [
                  "Morning",
                  "Noon",
                  "Afternoon",
                  "Evening"
               ]
            },
            {
               "id":"mPeople"
            }
         ],
         "rows":
         [
            [
               0,
               0,
               10
            ],
            [
               0,
               1,
               50
            ],
            [
               0,
               2,
               30
            ],
            [
               0,
               3,
               20
            ],
            [
               1,
               0,
               20
            ],
            [
               1,
               1,
               5
            ],
            [
               1,
               2,
               40
            ],
            [
               1,
               3,
               10
            ],
            [
               2,
               0,
               1
            ],
            [
               2,
               1,
               5
            ],
            [
               2,
               2,
               20
            ],
            [
               2,
               3,
               10
            ],
            [
               3,
               0,
               8
            ],
            [
               3,
               1,
               10
            ],
            [
               3,
               2,
               33
            ],
            [
               3,
               3,
               17
            ],
            [
               4,
               0,
               20
            ],
            [
               4,
               1,
               30
            ],
            [
               4,
               2,
               50
            ],
            [
               4,
               3,
               10
            ]
         ]
      }
   ],
   "augment":
   [
      {
         "dataKeys":
         [
            {
               "$ref":"name"
            }
         ],
         "sourceKeys":
         [
            "name"
         ],
         "method":"includeAllSource",
         "source":
         {
            "$ref":"id1"
         }
      }
   ],
   "copyright":"(C) Copyright IBM Corp. 2012",
   "grammar":
   [
      {
         "coordinates":
         {
            "dimensions":
            [
               {
                  "scale":
                  {
                     "spans":
                     [
                        {
                           "min":0,
                           "max":1024,
                           "fit":"exact"
                        }
                     ]
                  }
               },
               {
                  "scale":
                  {
                     "spans":
                     [
                        {
                           "min":0,
                           "max":800,
                           "fit":"exact"
                        }
                     ]
                  }
               }
            ]
         },
         "elements":
         [
            {
               "type":"polygon",
               "data":
               {
                  "$ref":"dataSet"
               },
               "color":
               [
                  {
                     "field":
                     {
                        "$ref":"mVisitors"
                     },
                     "mapping":
                     [
                        {
                           "at":"0%",
                           "color":"lightblue"
                        },
                        {
                           "at":"100%",
                           "color":"darkblue"
                        }
                     ]
                  }
               ],
               "style":
               {
                  "fill":
                  {
                     "a":0.6
                  },
                  "stroke":
                  {
                     "width":2.25
                  },
                  "outline":"black"
               }
            },
            {
               "id":"facetElement",
               "type":"point",
               "color":
               [
                  {
                     "field":
                     {
                        "$ref":"mVisitors"
                     },
                     "mapping":
                     [
                        {
                           "at":"0%",
                           "color":"transparent"
                        }
                     ],
                     "modifies":"both",
                     "nullValue":
                     {
                        "a":0.9
                     }
                  }
               ],
               "size":
               [
                  {
                     "field":
                     {
                        "$ref":"mVisitors"
                     },
                     "nullValue":0
                  }
               ],
               "style":
               {
                  "fill":
                  {
                     "a":0.9
                  },
                  "size":"150px",
                  "symbol":"circle"
               }
            }
         ],
         "labelCollisionMethod":"none"
      },
      {
         "coordinates":
         {
            "dimensions":
            [
               {
                  "scale":
                  {
                     "local":true
                  }
               }
            ],
            "transforms":
            [
               {
                  "type":"stack"
               },
               {
                  "type":"polar"
               }
            ]
         },
         "elements":
         [
            {
               "type":"interval",
               "position":
               [
                  {
                     "field":
                     {
                        "$ref":"mPeople"
                     }
                  }
               ],
               "color":
               [
                  {
                     "id":"colorId",
                     "field":
                     {
                        "$ref":"Periods"
                     },
                     "modifies":"both",
                     "palette":
                     [
                        "#1183ad",
                        "#39b2ac",
                        "#60942c",
                        "#d4a600",
                        "#d15c00",
                        "#b2293d",
                        "#532f8c",
                        "#a64c8b",
                        "#53abcc",
                        "#86b347",
                        "#f0cc00",
                        "#e2515b",
                        "#764da8",
                        "#6ecfc7",
                        "#e6944a",
                        "#c767ae",
                        "#84c7e0",
                        "#b3d66d",
                        "#ffe36a",
                        "#e88686",
                        "#9a77ce",
                        "#9ce3e0",
                        "#fabe79",
                        "#de92ca",
                        "#bfe2ef",
                        "#cfe68a",
                        "#fff69b",
                        "#f2bcbc",
                        "#c6b5e5",
                        "#c0f5f0",
                        "#fdd6b0"
                     ]
                  }
               ],
               "style":
               {
                  "fill":
                  {
                     "type":"radial",
                     "angle":270,
                     "colors":
                     [
                        {
                           "color":
                           {
                              "dAlpha":0,
                              "dSaturation":0,
                              "dValue":0.3
                           },
                           "offset":0.85
                        },
                        {
                           "color":
                           {
                              "dAlpha":0,
                              "dSaturation":0,
                              "dValue":-0.05
                           },
                           "offset":1
                        }
                     ],
                     "global":true
                  },
                  "stroke":
                  {
                     "width":0.5
                  },
                  "outline":
                  {
                     "dValue":0.8
                  }
               }
            }
         ],
         "facet":
         {
            "fields":
            [
               {
                  "field":
                  {
                     "$ref":"animalByPeriod"
                  }
               }
            ],
            "targetElement":
            {
               "$ref":"facetElement"
            },
            "method":"chartInChart"
         },
         "labelCollisionMethod":"none"
      }
   ],
   "legends":
   [
      {
         "scale":
         {
            "reverse":false
         },
         "aesthetics":
         [
            {
               "aesthetic":
               {
                  "$ref":"colorId"
               }
            }
         ],
         "labelStyle":
         {
            "fill":"#808080",
            "font":
            {
               "family":"Arial,'Arial Unicode MS', 'Andale WT', Tahoma, 'MS UI Gothic', Gulim, SimSun, PMingLiU, Raghu8, sans-serif",
               "size":"10pt"
            }
         },
         "location":
         {
            "left":"10%",
            "top":40
         },
         "orientation":"horizontal",
         "title":
         [

         ]
      }
   ],
   "resource":
   [
      {
         "id":"id1",
         "type":"geo/json/text",
         "URIs":
         [
            "embedded:///resource/*[\"id\"=\"id1\"]/embeddedData"
         ],
         "embeddedData":"{\"type\":\"FeatureCollection\",\"features\":[{\"type\":\"Feature\",\"id\":\"01\",\"properties\":{\"name\":\"Tiger\", \"value\":\"Tiger\"},\"geometry\":{\"type\":\"Polygon\",\"coordinates\":[[[197.1,840.5],[185.3,817.4],[174.4,800.7],[167.4,778.9],[135.3,750.7],[120.4,719.9],[101.7,695.5],[90.7,683.9],[65.7,646.7],[54.7,630.1],[52.4,595.4],[59.4,556.9],[64.1,524.8],[60.2,503.0],[63.3,474.8],[71.2,441.4],[77.4,431.2],[82.9,411.9],[85.2,387.5],[86.0,374.7],[85.2,350.3],[96.2,331.1],[97.0,323.4],[95.4,302.8],[107.9,270.8],[121.2,266.9],[136.1,257.9],[163.4,251.5],[176.7,248.9],[183.8,251.5],[190.8,257.9],[194.7,259.2],[203.3,259.2],[213.5,252.8],[237.0,268.2],[247.1,296.4],[248.7,305.4],[255.7,317.0],[260.4,323.4],[267.4,329.8],[276.1,341.3],[280.7,356.7],[283.1,368.3],[286.2,381.1],[294.8,378.5],[310.5,385.0],[315.2,385.0],[319.8,399.1],[322.2,414.5],[319.1,428.6],[313.6,440.1],[305.0,440.1],[289.3,438.9],[285.4,445.3],[279.2,456.8],[274.5,456.8],[270.6,458.1],[256.5,465.8],[248.7,464.5],[244.0,467.1],[233.8,474.8],[226.0,483.8],[218.2,496.6],[195.5,512.0],[175.2,530.0],[165.8,536.4],[158.0,556.9],[149.4,583.9],[147.8,604.4],[150.9,619.8],[156.4,632.6],[160.3,645.5],[163.4,654.4],[170.5,662.1],[214.3,666.0],[218.2,671.1],[233.0,701.9],[236.2,712.2],[242.4,725.0],[243.2,744.3],[245.6,760.9],[245.6,769.9],[239.3,787.9],[234.6,803.3],[232.3,817.4],[230.7,829.0],[223.7,839.2],[197.1,836.7]]]}},{\"type\":\"Feature\",\"id\":\"02\",\"properties\":{\"name\":\"Leopard\", \"value\":\"Leopard\"},\"geometry\":{\"type\":\"Polygon\",\"coordinates\":[[[108.7,137.3],[111.8,87.3],[112.6,65.4],[119.6,41.1],[125.1,34.6],[147.8,37.2],[161.1,35.9],[178.3,41.1],[188.5,35.9],[210.4,39.8],[229.1,39.8],[244.0,37.2],[254.9,37.2],[265.9,41.1],[270.6,50.0],[271.4,136.0],[265.1,169.4],[254.9,175.8],[244.8,175.8],[226.0,173.2],[216.6,175.8],[195.5,169.4],[185.3,170.7],[174.4,177.1],[159.5,170.7],[142.3,168.1],[134.5,166.8],[125.1,164.3],[112.6,156.6],[107.9,136.0]]]}},{\"type\":\"Feature\",\"id\":\"03\",\"properties\":{\"name\":\"Lion\", \"value\":\"Lion\"},\"geometry\":{\"type\":\"Polygon\",\"coordinates\":[[[409.0,388.8],[398.8,374.7],[387.9,363.1],[373.0,317.0],[370.7,287.4],[374.6,247.7],[374.6,232.3],[364.4,200.2],[357.4,189.9],[343.3,170.7],[333.1,148.9],[329.2,130.9],[336.3,106.5],[344.1,93.7],[358.2,87.3],[370.7,87.3],[384.8,95.0],[398.8,109.1],[418.4,125.8],[435.6,155.3],[452.0,175.8],[461.4,183.5],[474.7,210.4],[483.3,247.7],[490.3,269.5],[495.8,299.0],[495.0,306.7],[502.8,320.8],[512.2,360.6],[512.2,369.6],[505.2,378.5],[498.9,381.1],[487.2,383.7],[470.8,379.8],[458.3,372.1],[441.8,367.0],[432.5,364.4],[422.3,364.4],[419.9,369.6],[417.6,378.5],[410.6,388.8]]]}},{\"type\":\"Feature\",\"id\":\"03\",\"properties\":{\"name\":\"Cheetah\", \"value\":\"Cheetah\"},\"geometry\":{\"type\":\"Polygon\",\"coordinates\":[[[606.8,622.4],[600.6,621.1],[596.7,614.7],[582.6,556.9],[574.0,522.3],[581.8,486.3],[575.6,456.8],[556.8,441.4],[544.3,415.8],[524.7,327.2],[509.9,246.4],[509.1,225.8],[513.0,204.0],[518.5,192.5],[538.0,156.6],[553.7,136.0],[567.0,119.3],[572.4,118.1],[581.8,118.1],[588.1,118.1],[592.8,116.8],[597.5,110.4],[604.5,115.5],[624.8,175.8],[632.6,224.6],[642.8,274.6],[663.9,336.2],[675.7,382.4],[681.1,404.2],[684.3,411.9],[684.3,423.5],[686.6,433.7],[685.8,446.6],[684.3,456.8],[678.0,468.4],[672.5,481.2],[669.4,488.9],[663.1,501.7],[657.7,506.9],[647.5,487.6],[642.0,479.9],[638.1,473.5],[638.9,437.6],[636.6,437.6],[631.9,442.7],[630.3,458.1],[628.7,472.2],[628.7,499.2],[631.9,509.4],[634.2,521.0],[639.7,533.8],[642.8,542.8],[645.2,558.2],[642.0,564.6],[620.1,506.9],[620.1,478.6],[619.4,468.4],[606.8,453.0],[602.2,456.8],[594.3,469.7],[595.1,477.4],[593.5,487.6],[593.5,501.7],[597.5,523.5],[600.6,538.9],[606.8,559.5],[615.4,574.9],[620.1,583.9],[618.6,612.1],[613.9,619.8],[607.6,622.4]]]}},{\"type\":\"Feature\",\"id\":\"03\",\"properties\":{\"name\":\"Snow Leopard\", \"value\":\"Snow Leopard\"},\"geometry\":{\"type\":\"Polygon\",\"coordinates\":[[[502.1,663.4],[464.5,646.7],[441.8,595.4],[434.8,601.8],[426.2,587.7],[426.2,572.3],[426.2,554.3],[433.2,508.2],[439.5,478.6],[441.1,467.1],[434.8,442.7],[437.1,426.0],[448.1,411.9],[456.7,405.5],[463.7,404.2],[473.1,405.5],[523.2,456.8],[516.9,500.5],[516.1,510.7],[516.9,533.8],[520.0,538.9],[528.6,567.2],[540.4,610.8],[544.3,631.3],[541.9,649.3],[534.9,658.3],[527.1,664.7],[516.9,666.0],[509.1,666.0],[505.2,664.7]]]}}]}"
      }
   ],
   "size":
   {
      "width":1024,
      "height":800
   },
   "version":"4.0",
   "style":
   {
      "fill":"transparent"
   }
}