{
  "data": [
    {
      "id": "distributions",
      "fields": [
        {
          "id": "fGroup",
          "categories": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "10",
            "11",
            "12",
            "13",
            "14",
            "15",
            "16",
            "17",
            "18",
            "19",
            "20",
            "21",
            "22",
            "23",
            "24",
            "25",
            "26",
            "27",
            "28",
            "29"
          ],
          "key": true,
          "unit": "categorical"
        },
        {"id": "fPercent"},
        {
          "id": "color",
          "categories": [
            "Cat A",
            "Cat B",
            "Cat C",
            "Cat D",
            "Cat E",
            "Cat F",
            "Cat G",
            "Cat H"
          ]
        }
      ],
      "rows": [
        [ 0, 0.8, 0 ],
        [ 1, 0.5, 1 ],
        [ 2, 0.1, 2 ],
        [ 3, 0.2, 3 ],
        [ 10, 0.4, 4 ],
        [ 11, 0.2, 5 ],
        [ 12, 0.1, 6 ],
        [ 13, 0, 7 ],
        [ 20, 0.15, 0 ],
        [ 21, 0.1, 1 ],
        [ 22, 0.0, 2 ],
        [ 23, 0.05, 3 ]
      ]
    },
    {
      "id": "links",
      "fields": [
        {"id": "fFrom", "unit": "categorical"},
        {"id": "fTo", "unit": "categorical"},
        {
          "id": "connType",
          "categories": [ "Direct", "Dotted" ]
        }
      ],
      "rows": [
        [ 0, 1, 0 ],
        [ 0, 2, 0 ],
        [ 0, 3, 0 ],
        [ 1, 4, 0 ],
        [ 2, 5, 0 ],
        [ 3, 6, 0 ],
        [ 4, 7, 1 ],
        [ 5, 8, 1 ],
        [ 6, 9, 1 ],
        [ 10, 11, 0 ],
        [ 10, 12, 0 ],
        [ 10, 13, 0 ],
        [ 11, 14, 0 ],
        [ 12, 15, 0 ],
        [ 13, 16, 0 ],
        [ 14, 17, 1 ],
        [ 15, 18, 1 ],
        [ 16, 19, 1 ],
        [ 20, 21, 0 ],
        [ 20, 22, 0 ],
        [ 20, 23, 0 ],
        [ 21, 24, 0 ],
        [ 22, 25, 0 ],
        [ 23, 26, 0 ],
        [ 24, 27, 1 ],
        [ 25, 28, 1 ],
        [ 26, 29, 1 ]
      ]
    },
    {
      "id": "nodes",
      "fields": [
        {"id": "fNode", "key": true, "unit": "categorical"},
        {
          "id": "nodeLineage",
          "categories": [ "small", "large" ]
        },
        {
          "id": "fLabel",
          "categories": [
            "0-199",
            "10-19",
            "20-39",
            "40+",
            "200-399",
            "400-599",
            ""
          ]
        },
        {
          "id": "outsideLabel",
          "categories": [ "Loss", "Pred. Failures", "" ]
        }
      ],
      "rows": [
        [ 0, 0, 0, 0 ],
        [ 1, 0, 1, 1 ],
        [ 2, 0, 2, 1 ],
        [ 3, 0, 3, 1 ],
        [ 4, 1, 6, 2 ],
        [ 5, 1, 6, 2 ],
        [ 6, 1, 6, 2 ],
        [ 7, 1, 6, 2 ],
        [ 8, 1, 6, 2 ],
        [ 9, 1, 6, 2 ],
        [ 10, 0, 4, 0 ],
        [ 11, 0, 1, 1 ],
        [ 12, 0, 2, 1 ],
        [ 13, 0, 3, 1 ],
        [ 14, 1, 6, 2 ],
        [ 15, 1, 6, 2 ],
        [ 16, 1, 6, 2 ],
        [ 17, 1, 6, 2 ],
        [ 18, 1, 6, 2 ],
        [ 19, 1, 6, 2 ],
        [ 20, 0, 5, 0 ],
        [ 21, 0, 1, 1 ],
        [ 22, 0, 2, 1 ],
        [ 23, 0, 3, 1 ],
        [ 24, 1, 6, 2 ],
        [ 25, 1, 6, 2 ],
        [ 26, 1, 6, 2 ],
        [ 27, 1, 6, 2 ],
        [ 28, 1, 6, 2 ],
        [ 29, 1, 6, 2 ]
      ]
    },
    {
      "id": "fChart",
      "fields": [
        {
          "id": "fCategories",
          "categories": [ "A", "B", "C" ]
        },
        {"id": "fValues"},
        {
          "id": "group",
          "categories": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "10",
            "11",
            "12",
            "13",
            "14",
            "15",
            "16",
            "17",
            "18",
            "19",
            "20",
            "21",
            "22",
            "23",
            "24",
            "25",
            "26",
            "27",
            "28",
            "29"
          ]
        }
      ],
      "rows": [
        [ 0, 70, 4 ],
        [ 1, 25, 4 ],
        [ 2, 20, 4 ],
        [ 0, 12, 5 ],
        [ 1, 5, 5 ],
        [ 2, 3, 5 ],
        [ 0, 17, 6 ],
        [ 1, 8, 6 ],
        [ 2, 15, 6 ],
        [ 0, 12, 14 ],
        [ 1, 5, 14 ],
        [ 2, 3, 14 ],
        [ 0, 5, 15 ],
        [ 1, 2, 15 ],
        [ 2, 1, 15 ],
        [ 0, 1, 16 ],
        [ 1, 2, 16 ],
        [ 2, 0, 16 ],
        [ 0, 6, 24 ],
        [ 1, 2, 24 ],
        [ 2, 1, 24 ],
        [ 0, 0, 25 ],
        [ 1, 0, 25 ],
        [ 2, 2, 25 ],
        [ 0, 3, 26 ],
        [ 1, 1, 26 ],
        [ 2, 0, 26 ]
      ]
    },
    {
      "id": "fChart1",
      "fields": [
        {
          "id": "fCategories1",
          "categories": [ "A", "B", "C", "D", "E" ]
        },
        {"id": "fValues1"},
        {
          "id": "group1",
          "categories": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "10",
            "11",
            "12",
            "13",
            "14",
            "15",
            "16",
            "17",
            "18",
            "19",
            "20",
            "21",
            "22",
            "23",
            "24",
            "25",
            "26",
            "27",
            "28",
            "29"
          ]
        }
      ],
      "rows": [
        [ 0, 10, 7 ],
        [ 1, 40, 7 ],
        [ 2, 50, 7 ],
        [ 3, 4, 7 ],
        [ 4, 5, 7 ],
        [ 0, 2, 8 ],
        [ 1, 6, 8 ],
        [ 2, 12, 8 ],
        [ 3, 2, 8 ],
        [ 4, 3, 8 ],
        [ 0, 2.5, 9 ],
        [ 1, 7, 9 ],
        [ 2, 10, 9 ],
        [ 3, 3, 9 ],
        [ 4, 3, 9 ],
        [ 0, 0, 17 ],
        [ 1, 5, 17 ],
        [ 2, 18, 17 ],
        [ 3, 0, 17 ],
        [ 4, 0, 17 ],
        [ 0, 0, 18 ],
        [ 1, 0, 18 ],
        [ 2, 7, 18 ],
        [ 3, 0, 18 ],
        [ 4, 2, 18 ],
        [ 0, 0, 19 ],
        [ 1, 0, 19 ],
        [ 2, 2, 19 ],
        [ 3, 0, 19 ],
        [ 4, 1, 19 ],
        [ 0, 0, 27 ],
        [ 1, 7, 27 ],
        [ 2, 2, 27 ],
        [ 3, 3, 27 ],
        [ 4, 0, 27 ],
        [ 0, 0, 28 ],
        [ 1, 0, 28 ],
        [ 2, 5, 28 ],
        [ 3, 5, 28 ],
        [ 4, 0, 28 ],
        [ 0, 1, 29 ],
        [ 1, 3, 29 ],
        [ 2, 0, 29 ],
        [ 3, 0, 29 ],
        [ 4, 0, 29 ]
      ]
    }
  ],
  "grammar": [
    {
      "coordinates": {
        "dimensions": [ {}, {} ]
      },
      "elements": [
        {
          "id": "facetElement",
          "type": "point",
          "label": [
            {
              "content": [ {"$ref": "outsideLabel"} ],
              "style": {
                "fill": "black",
                "align": "middle",
                "font": {
                  "family": "Arial",
                  "size": 10.0,
                  "weight": "bold"
                },
                "location": "outside",
                "valign": "end"
              }
            }
          ],
          "data": {"$ref": "nodes"},
          "positioning": {
            "id": {"$ref": "fNode"},
            "from": {"$ref": "fFrom"},
            "orientation": "left-to-right",
            "to": {"$ref": "fTo"},
            "method": "tree"
          },
          "size": [
            {
              "field": {"$ref": "nodeLineage"},
              "mapping": [
                {"at": 0, "size": "130%"},
                {"at": 1, "size": "130%"}
              ],
              "modifies": "width"
            },
            {
              "field": {"$ref": "nodeLineage"},
              "mapping": [
                {"at": 0, "size": "130%"},
                {"at": 1, "size": "280%"}
              ],
              "modifies": "height"
            }
          ],
          "style": {
            "fill": "#E6E6E6",
            "width": 80,
            "height": 20,
            "padding": {"bottom": 15, "left": 10, "top": 15},
            "symbol": "rectangle"
          }
        },
        {
          "type": "edge",
          "data": {"$ref": "links"},
          "positioning": {
            "id": {"$ref": "fNode"},
            "attachmentPoint": "center",
            "from": {"$ref": "fFrom"},
            "to": {"$ref": "fTo"},
            "method": "link"
          },
          "styleBy": [
            {
              "field": {"$ref": "connType"},
              "palette": [
                {"fill": "black", "endArrow": "arrow"},
                {
                  "fill": "black",
                  "stroke": {"style": "Dash"}
                }
              ]
            }
          ],
          "style": {
            "fill": "black",
            "stroke": {"width": 1},
            "symbol": "elbow"
          }
        }
      ],
      "style": {"fill": "white", "padding": 10}
    },
    {
      "coordinates": {
        "dimensions": [
          {
            "scale": {
              "local": true,
              "spans": [ {"min": 0, "max": 1} ]
            }
          }
        ],
        "transforms": [
          {"type": "stack"},
          {"type": "transpose"}
        ],
        "style": {"fill": {"a": 0}}
      },
      "elements": [
        {
          "type": "interval",
          "data": {"$ref": "distributions"},
          "position": [ {"field": {"$ref": "fPercent"}} ],
          "color": [
            {
              "field": {"$ref": "color"},
              "palette": [
                "#E3343E",
                "#F77123",
                "#5FAB4B",
                "#42B0A1",
                "#0F8CD4",
                "#A23EA8",
                "#F74C7D",
                "#AD6034"
              ]
            }
          ],
          "style": {
            "fill": {
              "type": "linear",
              "colors": [
                {"color": {"a": 0.9}, "offset": 0},
                {
                  "color": {
                    "a": 0.9,
                    "dSaturation": 0.1,
                    "dValue": -0.1
                  },
                  "offset": 1
                }
              ]
            }
          }
        }
      ],
      "facet": {
        "fields": [ {"field": {"$ref": "fGroup"}} ],
        "targetElement": {"$ref": "facetElement"},
        "method": "chartInChart"
      },
      "style": {
        "fill": {"a": 0},
        "stroke": {"width": 0.5},
        "padding": 0
      }
    },
    {
      "coordinates": {
        "dimensions": [
          {
            "scale": {"spans": [ {"fit": "nice"} ]},
            "axis": {"tickStyle": {"font": {"size": 8}}}
          },
          {"axis": {"tickStyle": {"font": {"size": 8}}}}
        ]
      },
      "elements": [
        {
          "type": "interval",
          "data": {"$ref": "fChart"},
          "position": [
            {"field": {"$ref": "fValues"}},
            {"field": {"$ref": "fCategories"}}
          ],
          "color": [ {"field": {"$ref": "fCategories"}} ],
          "style": {"width": "70%"}
        }
      ],
      "facet": {
        "fields": [ {"field": {"$ref": "group"}} ],
        "targetElement": {"$ref": "facetElement"},
        "method": "chartInChart"
      }
    },
    {
      "coordinates": {
        "dimensions": [
          {"axis": {"tickStyle": {"font": {"size": 8}}}},
          {"axis": {"tickStyle": {"font": {"size": 8}}}}
        ]
      },
      "elements": [
        {
          "type": "interval",
          "data": {"$ref": "fChart1"},
          "position": [
            {"field": {"$ref": "fValues1"}},
            {"field": {"$ref": "fCategories1"}}
          ],
          "color": [ {"field": {"$ref": "fCategories1"}} ],
          "style": {"width": "90%"}
        }
      ],
      "facet": {
        "fields": [ {"field": {"$ref": "group1"}} ],
        "targetElement": {"$ref": "facetElement"},
        "method": "chartInChart"
      }
    },
    {
      "coordinates": {
        "dimensions": [ {}, {} ]
      },
      "elements": [
        {
          "type": "point",
          "label": [
            {
              "content": [ {"$ref": "fLabel"} ],
              "style": {
                "font": {
                  "family": "Arial",
                  "weight": "bold"
                },
                "location": "inside"
              }
            }
          ],
          "data": {"$ref": "nodes"},
          "positioning": {
            "id": {"$ref": "fNode"},
            "from": {"$ref": "fFrom"},
            "orientation": "left-to-right",
            "to": {"$ref": "fTo"},
            "method": "tree"
          },
          "size": [
            {
              "field": {"$ref": "nodeLineage"},
              "mapping": [
                {"at": 0, "size": "130%"},
                {"at": 1, "size": "130%"}
              ],
              "modifies": "width"
            },
            {
              "field": {"$ref": "nodeLineage"},
              "mapping": [
                {"at": 0, "size": "130%"},
                {"at": 1, "size": "280%"}
              ],
              "modifies": "height"
            }
          ],
          "style": {
            "fill": {"a": 0},
            "width": 80,
            "height": 20,
            "outline": {"a": 0},
            "padding": {"bottom": 20, "left": 10, "top": 20},
            "symbol": "rectangle"
          }
        }
      ],
      "style": {"fill": {"a": 0}, "padding": 10}
    }
  ],
  "version": "4.1"
}