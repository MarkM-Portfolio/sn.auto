######################################################
# Application Properties
######################################################
# Assign entries in the APPDIR array in reverse order
# of building. In other words, the directory for this
# FE should be the first entry, followed by directories
# for dependencies. Done this way so that
# ${APPDIR} refers to this FE's directory.
APPDIR=sn.search/lwp
SQLDIR=search_sqldir
DB2INST=db2inst1
DB2INST_HOME=~db2inst1
HIDE_WAS_RUNTIME_JAR=true
SRC_REQUIRED=no

######################################################
# System Properties
#	Note: These usually don't need to be altered.
######################################################
. ${CI_COMMON_HOME}/system.properties

######################################################
# JUnit Test Properties -- PRE-Database Operations
#
# The following format can be used to add multiple
# 	directories and commands.
# 
# Format:
# 	TEST_DIR[#]=DIR
# 	TEST_CMD[#]=CMD
# 
# Values:
# 	DIR is the directory change to (i.e forum.test)
# 	CMD is the command to run in DIR (i.e bld)
#	#   is the incremental number, starting at 1,
#	    Note: Must be same for CMD and DIR
######################################################
#TEST_DIR[1]=oa.test
#TEST_CMD[1]=bld

######################################################
# Database Operation Parameters
######################################################
#RECREATEDB=true
#DBCFG_DIR=oa.test/bvt/configfiles
#DBCFG_FILE=oa-db-config.properties

######################################################
# JUnit Test Properties -- POST-Database Operations
#
# The following format can be used to add multiple
# 	directories and commands.
# 
# Format:
# 	POST_TEST_DIR[#]=DIR
# 	POST_TEST_CMD[#]=CMD
######################################################

# Run the JUnit tests
POST_TEST_DIR[1]="."
POST_TEST_CMD[1]="bld downloadFEs"
POST_TEST_DIR[2]=search.tests
POST_TEST_CMD[2]="bld run-unit-tests"

# Publish JUnit report file if it wasn't already generated.
#POST_TEST_DIR[2]=.
#POST_TEST_CMD[2]="${CI_HOME}/create_junit_report_search.sh"

# Publish test artifacts.
#POST_TEST_DIR[3]=.
#POST_TEST_CMD[3]="${CI_COMMON_HOME}/publish_artifacts.sh search build/search.tests/reports/jreport"

POST_TEST_DIR[3]=.
POST_TEST_CMD[3]="python ${CI_COMMON_HOME}/filter_junit_report.py build/search.tests/reports/jreport/TEST-com.ibm.connections.search.tests.TestSearch.xml"

POST_TEST_DIR[4]=.
POST_TEST_CMD[4]="${CI_COMMON_HOME}/build_junit_report.sh build/search.tests/reports/jreport"
