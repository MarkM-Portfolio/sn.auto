######################################################
# Application Properties
######################################################
# Assign entries in the APPDIR array in reverse order
# of building. In other words, the directory for this
# FE should be the first entry, followed by directories
# for dependencies. Done this way so that
# ${APPDIR} refers to this FE's directory.
APPDIR=sn.metrics/lwp
SQLDIR=$APPDIR/build/lc.metrics.db/script
DB2INST=db2inst2
HIDE_WAS_RUNTIME_JAR=true
SRC_REQUIRED=no

######################################################
# System Properties
#	Note: These usually don't need to be altered.
######################################################
. ${CI_COMMON_HOME}/system.properties

######################################################
# Database Operation Parameters
######################################################
RECREATEDB=true
DBCFG_DIR=build/lc.metrics.test.ut/lib
DBCFG_FILE=metrics-test-config.properties

######################################################
# JUnit Test Properties -- PRE-Database Operations
#
# The following format can be used to add multiple
# 	directories and commands.
# 
# Format:
# 	TEST_DIR[#]=DIR
# 	TEST_CMD[#]=CMD
# 
# Values:
# 	DIR is the directory change to (i.e forum.test)
# 	CMD is the command to run in DIR (i.e bld)
#	#   is the incremental number, starting at 1,
#	    Note: Must be same for CMD and DIR
######################################################
TEST_DIR[1]=.
TEST_CMD[1]="wsbld downloadFEs"

#TEST_DIR[2]=.
#TEST_CMD[2]="wsbld"

######################################################
# JUnit Test Properties -- POST-Database Operations
#
# The following format can be used to add multiple
# 	directories and commands.
# 
# Format:
# 	POST_TEST_DIR[#]=DIR
# 	POST_TEST_CMD[#]=CMD
######################################################

# Run the JUnit tests
POST_TEST_DIR[1]=lc.metrics.test.ut
POST_TEST_CMD[1]="wsbld test"

POST_TEST_DIR[2]=.
POST_TEST_CMD[2]="python ${CI_COMMON_HOME}/filter_junit_report.py build/lc.metrics.test.ut/logs/TEST-com.ibm.connections.metrics.test.MetricsTestSuite.xml"

POST_TEST_DIR[3]=.
POST_TEST_CMD[3]="${CI_COMMON_HOME}/build_junit_report.sh build/lc.metrics.test.ut/logs"
